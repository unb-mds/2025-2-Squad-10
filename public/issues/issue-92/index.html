<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>
        
            [Feat] Gera√ß√£o relat√≥rios PDF | OncoMap
        
    </title>
    

    
    
    
    
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://unb-mds.github.io/2025-2-OncoMap/css/issues-page-bundle.min.css">



</head>
<body>

    <nav class="navbar">

    <a class="navbar-brand" href="https://unb-mds.github.io/2025-2-OncoMap/">
        OncoMap
    </a>

    <ul class="navbar-links">
        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/">In√≠cio</a></li>
        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/sprints/">Sprints</a></li>
        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/requisitos/">Requisitos</a></li>
        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/arquitetura/">Arquitetura</a></li>
        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/diversos/">Diversos</a></li>
    </ul>

    <div class="navbar-right">
        <a href="https://github.com/unb-mds/2025-2-OncoMap" target="_blank">GitHub</a>
    </div>

</nav>

    <section class="hero">
    <div class="container">
        <h1>[Feat] Gera√ß√£o relat√≥rios PDF</h1>
        
        
        
        </div>
</section>

    <main>
        

    <div class="container page-single">
        <h1>[Feat] Gera√ß√£o relat√≥rios PDF</h1>
        
        <div class="content">
            <h2 id="-descri√ß√£o">üéØ Descri√ß√£o</h2>
<p>Implementar um sistema de <strong>Exporta√ß√£o de Relat√≥rios em PDF</strong> enriquecidos com Intelig√™ncia Artificial.</p>
<p>Atualmente, o usu√°rio visualiza os dados no mapa, mas n√£o tem uma forma f√°cil de extrair um documento formal ou anal√≠tico sobre o que est√° vendo. O objetivo √© permitir que o usu√°rio baixe relat√≥rios prontos para uso (Regionais, Estaduais ou Municipais).</p>
<hr>
<h2 id="-objetivo">‚úÖ Objetivo</h2>
<p>Fornecer aos gestores p√∫blicos, jornalistas e pesquisadores uma ferramenta de <strong>an√°lise automatizada</strong>.</p>
<p>Em vez de apenas entregar uma planilha de n√∫meros, o sistema deve usar o <strong>Gemini</strong> para &ldquo;ler&rdquo; os dados agregados do banco e escrever um relat√≥rio textual (com introdu√ß√£o, an√°lise e conclus√£o), formatado elegantemente em PDF. Isso agrega valor ao transformar dados brutos em <em>insights</em> consum√≠veis.</p>
<hr>
<h2 id="-detalhes-da-implementa√ß√£o">üìù Detalhes da Implementa√ß√£o</h2>
<h3 id="backend">Backend</h3>
<ul>
<li><strong>Controlador (<code>reportController.js</code>):</strong>
<ul>
<li>Criar fun√ß√µes que busquem dados agregados no banco (<code>mentions</code> e <code>final_extracted_value</code>).</li>
<li>Implementar l√≥gica de Prompt Engineering para enviar esses dados ao Gemini e solicitar um retorno em HTML formatado.</li>
<li>Usar uma biblioteca como <code>html-pdf-node</code> ou <code>puppeteer</code> para converter o HTML gerado em bin√°rio PDF.</li>
</ul>
</li>
<li><strong>Rotas (<code>reportRoutes.js</code>):</strong>
<ul>
<li><code>GET /api/report/region/:regionName/pdf</code></li>
<li><code>GET /api/report/state/:uf/pdf</code></li>
<li><code>GET /api/report/municipality/:ibge/pdf</code></li>
</ul>
</li>
</ul>
<h3 id="design-do-relat√≥rio">Design do Relat√≥rio</h3>
<ul>
<li>O PDF deve ter um cabe√ßalho padr√£o do OncoMap.</li>
<li>Deve incluir tabelas de dados (geradas pela IA ou montadas no c√≥digo).</li>
<li>Deve incluir textos anal√≠ticos (ex: &ldquo;O estado X lidera os investimentos com 40% do total&hellip;&rdquo;).</li>
</ul>
<hr>
<h2 id="-crit√©rios-de-aceita√ß√£o">üìä Crit√©rios de Aceita√ß√£o</h2>
<ul>
<li><input checked="" disabled="" type="checkbox"> O sistema deve gerar PDFs v√°lidos para download direto no navegador.</li>
<li><input checked="" disabled="" type="checkbox"> O relat√≥rio deve suportar tr√™s n√≠veis de granularidade: Regi√£o, Estado e Munic√≠pio.</li>
<li><input checked="" disabled="" type="checkbox"> O conte√∫do textual deve ser din√¢mico (gerado pela IA com base nos dados reais do momento).</li>
<li><input checked="" disabled="" type="checkbox"> O relat√≥rio deve exibir corretamente os valores monet√°rios formatados (R$).</li>
<li><input checked="" disabled="" type="checkbox"> Caso a regi√£o/estado/munic√≠pio n√£o tenha dados, a API deve retornar um erro 400 ou 404 claro, sem tentar gerar um PDF vazio.</li>
</ul>
<hr>

        </div>
    </div>


    </main>

    <footer class="footer">
    <div class="container">
        <div class="footer-grid">
            
            <div class="footer-column about">
                <h3>OncoMap</h3>
                <p>Mapa de investimento em sa√∫de oncol√≥gica</p>
            </div>
            
            <div class="footer-column links">
                <h3>Links √öteis</h3>
                <ul>
                    <li><a href="https://unb-mds.github.io/2025-2-OncoMap/">In√≠cio</a></li>
                    <li><a href="https://unb-mds.github.io/2025-2-OncoMap/sprints">Sprints</a></li>
                    
                    
                    
                    
                        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/requisitos/">Requisitos</a></li>
                    
                    
                    
                    
                        <li><a href="https://unb-mds.github.io/2025-2-OncoMap/arquitetura/">Arquitetura</a></li>
                    
                </ul>
            </div>
            
            <div class="footer-column contact">
                <h3>Contato</h3>
                <ul>
                    <li><a href="https://github.com/unb-mds/2025-2-OncoMap" target="_blank">GitHub</a></li>
                </ul>
            </div>

        </div>
    </div>
    
    <div class="footer-bottom">
        <div class="container">
            <p>&copy; 2025 OncoMap. Todos os direitos reservados.</p>
            <p>Desenvolvido pela equipe UnB-MDS</p>
        </div>
    </div>
</footer>
    
    <script src="https://unb-mds.github.io/2025-2-OncoMap/js/app.js"></script>
</body>
</html>