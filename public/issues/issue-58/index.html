<!DOCTYPE html>
<html lang="pt-br">
<head><script src="/2025-2-OncoMap/livereload.js?mindelay=10&amp;v=2&amp;port=38833&amp;path=2025-2-OncoMap/livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>
        
            [FEATURE] Teste da alimentacao do banco de dados | OncoMap
        
    </title>
    

    
    
    
    
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="http://localhost:38833/2025-2-OncoMap/css/issues-page-bundle.min.css">



</head>
<body>

    <nav class="navbar">

    <a class="navbar-brand" href="http://localhost:38833/2025-2-OncoMap/">
        OncoMap
    </a>

    <ul class="navbar-links">
        <li><a href="http://localhost:38833/2025-2-OncoMap/">In√≠cio</a></li>
        <li><a href="http://localhost:38833/2025-2-OncoMap/sprints/">Sprints</a></li>
        <li><a href="http://localhost:38833/2025-2-OncoMap/requisitos/">Requisitos</a></li>
        <li><a href="http://localhost:38833/2025-2-OncoMap/arquitetura/">Arquitetura</a></li>
        <li><a href="http://localhost:38833/2025-2-OncoMap/diversos/">Diversos</a></li>
    </ul>

    <div class="navbar-right">
        <a href="https://github.com/unb-mds/2025-2-OncoMap" target="_blank">GitHub</a>
    </div>

</nav>

    <section class="hero">
    <div class="container">
        <h1>[FEATURE] Teste da alimentacao do banco de dados</h1>
        
        
        
        </div>
</section>

    <main>
        

    <div class="container page-single">
        <h1>[FEATURE] Teste da alimentacao do banco de dados</h1>
        
        <div class="content">
            <h2 id="-descri√ß√£o">üéØ Descri√ß√£o</h2>
<p>Adicionar um script de teste automatizado para validar o processo de alimenta√ß√£o do banco de dados. O teste deve simular a execu√ß√£o do <code>collector.js</code> em um escopo limitado, confirmando que ele consegue buscar dados da API do Querido Di√°rio e inseri-los corretamente na tabela <code>mentions</code> do nosso banco de dados PostgreSQL.</p>
<hr>
<h2 id="-objetivo">‚úÖ Objetivo</h2>
<p>O problema que esta feature resolve √© a falta de garantia e confian√ßa no nosso pipeline de dados principal. Atualmente, executamos o <code>collector.js</code> e assumimos que ele funcionou, mas n√£o temos uma forma r√°pida e autom√°tica de verificar seu sucesso.</p>
<p>Esta funcionalidade √© importante para o projeto por tr√™s raz√µes:</p>
<ol>
<li><strong>Confiabilidade:</strong> Garante que a funcionalidade mais cr√≠tica do nosso backend (a coleta de dados) est√° funcionando como esperado.</li>
<li><strong>Manuten√ß√£o:</strong> Se a API do Querido Di√°rio mudar seu formato ou se fizermos uma altera√ß√£o no nosso c√≥digo que quebre a inser√ß√£o, o teste ir√° falhar imediatamente, nos alertando sobre o problema.</li>
<li><strong>Facilidade de Colabora√ß√£o:</strong> Permite que qualquer membro da equipe execute o teste para validar se seu ambiente de desenvolvimento (conex√£o com o banco, vari√°veis de ambiente) est√° configurado corretamente.</li>
</ol>
<hr>
<h2 id="-detalhes-da-implementa√ß√£o">üìù Detalhes da Implementa√ß√£o</h2>
<p>A implementa√ß√£o consistir√° em criar um script de teste de integra√ß√£o que executa e verifica a l√≥gica de coleta.</p>
<ol>
<li>
<p><strong>Criar um Script de Teste:</strong></p>
<ul>
<li>Criar um novo arquivo, por exemplo, <code>test/collector.test.js</code>. Este script usar√° as mesmas depend√™ncias (<code>pg</code>, <code>axios</code>) do nosso coletor principal.</li>
</ul>
</li>
<li>
<p><strong>Definir um Escopo de Teste Limitado:</strong></p>
<ul>
<li>O teste n√£o ir√° rodar para todos os 5.570 munic√≠pios. Ele ser√° configurado para buscar dados de <strong>apenas tr√™s munic√≠pios</strong> (ex: Rio de Janeiro, <code>3304557</code>, &hellip;) e para um <strong>per√≠odo de tempo curto</strong> (ex: os √∫ltimos 30 dias). Isso garante que o teste seja r√°pido.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-crit√©rios-de-aceita√ß√£o">üìä Crit√©rios de Aceita√ß√£o</h2>
<p>Para considerar esta funcionalidade conclu√≠da, os seguintes pontos devem ser atendidos:</p>
<ul>
<li><input disabled="" type="checkbox"> Um script de teste dedicado √† alimenta√ß√£o do banco de dados existe no projeto.</li>
<li><input disabled="" type="checkbox"> O script executa a l√≥gica de coleta para um escopo pequeno e predefinido (3 munic√≠pio, per√≠odo curto).</li>
<li><input disabled="" type="checkbox"> O script se conecta ao banco de dados para verificar o resultado da inser√ß√£o ap√≥s a execu√ß√£o da coleta.</li>
<li><input disabled="" type="checkbox"> O teste √© considerado &ldquo;passou&rdquo; se o n√∫mero de registros na tabela <code>mentions</code> aumentar ap√≥s a execu√ß√£o do script.</li>
<li><input disabled="" type="checkbox"> O teste √© considerado &ldquo;falhou&rdquo; se nenhum novo registro for adicionado, exibindo uma mensagem de erro clara no console.</li>
</ul>
<hr>

        </div>
    </div>


    </main>

    <footer class="footer">
    <div class="container">
        <div class="footer-grid">
            
            <div class="footer-column about">
                <h3>OncoMap</h3>
                <p>Mapa de investimento em sa√∫de oncol√≥gica</p>
            </div>
            
            <div class="footer-column links">
                <h3>Links √öteis</h3>
                <ul>
                    <li><a href="http://localhost:38833/2025-2-OncoMap/">In√≠cio</a></li>
                    <li><a href="http://localhost:38833/2025-2-OncoMap/sprints">Sprints</a></li>
                    
                    
                    
                    
                        <li><a href="http://localhost:38833/2025-2-OncoMap/requisitos/">Requisitos</a></li>
                    
                    
                    
                    
                        <li><a href="http://localhost:38833/2025-2-OncoMap/arquitetura/">Arquitetura</a></li>
                    
                </ul>
            </div>
            
            <div class="footer-column contact">
                <h3>Contato</h3>
                <ul>
                    <li><a href="https://github.com/unb-mds/2025-2-OncoMap" target="_blank">GitHub</a></li>
                </ul>
            </div>

        </div>
    </div>
    
    <div class="footer-bottom">
        <div class="container">
            <p>&copy; 2025 OncoMap. Todos os direitos reservados.</p>
            <p>Desenvolvido pela equipe UnB-MDS</p>
        </div>
    </div>
</footer>
    
    <script src="http://localhost:38833/2025-2-OncoMap/js/app.js"></script>
</body>
</html>